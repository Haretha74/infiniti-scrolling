{"version":3,"sources":["app.js","build-list.js","get-image.js","get-new-pokemons.js","image-observer.js","list-observer.js"],"names":["offset","count","template","document","getElementById","pokeList","querySelector","getNewPokemons","buildList","result","clone","content","cloneNode","name","img","innerText","getImage","url","then","imageURL","dataset","src","imageObserver","observe","appendChild","fetch","response","json","data","sprites","front_default","res","results","forEach","lastChiled","observer","IntersectionObserver","entries","intersectionRatio","unobserve","target","threshold"],"mappings":"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","file":"app.js","sourcesContent":["    let offset = 0;\r\n    let count;\r\n    var template = document.getElementById(\"template\");\r\n    var pokeList = document.querySelector(\".pokeList\");\r\ngetNewPokemons(offset);\r\n    ","function buildList(result) {\r\n    var clone = template.content.cloneNode(true);\r\n    var name = clone.querySelector(\".pokeName\");\r\n    var img = clone.querySelector('.pokeImg');\r\n    name.innerText = result.name;\r\n\r\n    getImage(result.url)\r\n    .then(function(imageURL) {\r\n        img.dataset.src = imageURL;\r\n        imageObserver.observe(img);\r\n\r\n    });\r\n    \r\n    pokeList.appendChild(clone);\r\n}","function getImage(url) {\r\n    return fetch(url)\r\n    .then (function(response) {\r\n        return response.json() ;\r\n\r\n      })\r\n      .then (function(data) {\r\n          return data.sprites.front_default;\r\n      });\r\n}","function getNewPokemons(offset) {\r\n    fetch(`https://pokeapi.co/api/v2/pokemon?limit=10&offset=${offset}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            \r\n            count = data.count;\r\n    \r\n            data.results.forEach(buildList);\r\n            var lastChiled = document.querySelector(\".pokeList li:last-child\");\r\n            observer.observe(lastChiled);\r\n        });\r\n    }","var imageObserver = new IntersectionObserver(function(entries) {\r\n\r\n    if(entries[0].intersectionRatio <= 0) return; \r\n    observer.unobserve(entries[0].target);\r\n    entries[0].target.src = entries[0].target.dataset.src;\r\n    \r\n}, {\r\n    threshold: 1\r\n});","var observer = new IntersectionObserver(function(entries) {\r\n\r\n    if(entries[0].intersectionRatio <= 0) return; \r\n    observer.unobserve(entries[0].target);\r\n    offset = offset + 10;\r\n    if(offset > count) return;\r\n    getNewPokemons(offset);\r\n}, {\r\n    threshold: 1\r\n});"]}